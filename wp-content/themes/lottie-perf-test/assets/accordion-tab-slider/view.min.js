(async()=>{async function buildComponents(target){if(!target)return;const sliderWrapper=target;let mediaSlides=sliderWrapper.querySelector(".media-slides");let pagination=sliderWrapper.querySelector(".pagination");let slideCount=mediaSlides.children.length;let data=JSON.parse(sliderWrapper.dataset.param);const modelModule=await import("/library/dist/js/SliderModel.min.js");const viewModule=await import("./AccordionTabSliderView.min.js");const controllerModule=await import("/library/dist/js/SliderController.min.js");const SliderModel=modelModule.default;const AccordionTabSliderView=viewModule.default;const SliderController=controllerModule.default;const model=new SliderModel(Number(slideCount));function getScreenSize(){if(typeof window==="undefined")return 0;return window.innerWidth}const options={touchChangeThreshold:100,autoSlideSpeed:getScreenSize()<575?data.mobileAutoSlideSpeed:data.desktopAutoSlideSpeed,autoplay:getScreenSize()<575?data.autoPlayMobile:data.autoPlayDesktop};const views=[createViewInstance(model,mediaSlides,"slides",{disableInteraction:true,disablePauseAndResumeOnMouseEnterAndLeave:!options.autoplay}),createViewInstance(model,pagination,"pagination",{disableSwipe:true,disablePauseAndResumeOnMouseEnterAndLeave:!options.autoplay})];let controller=new SliderController(model,views,options);function createViewInstance(model,container,type,viewOptions){return new AccordionTabSliderView({container:container,type:type,viewOptions:viewOptions},model)}return controller}function createObserver(){const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{let idx=entry.target.dataset.index;if(controllers.length===0||!controllers[idx]._autoplay)return;if(entry.isIntersecting){controllers[idx].timer.resume()}if(!entry.isIntersecting){controllers[idx].timer.pause()}})},{threshold:.2});accordionSliders.forEach((accordionSlider,index)=>observer.observe(accordionSlider,index))}let controllers=[];async function init(target,index){let controller=await buildComponents(target);controllers[index]=controller}const accordionSliders=document.querySelectorAll(".accordion-tab__slider-wrapper");accordionSliders.forEach((accordionSlider,index)=>{init(accordionSlider,index);accordionSlider.dataset.index=index});createObserver()})();